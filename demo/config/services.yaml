services:
  _defaults:
    autowire: true
    autoconfigure: true
    public: false

  Denysov\Demo\Infrastructure\Messaging\Symfony\RoadRunner\RoadRunnerFactory:
    tags: [ messenger.transport_factory ]

  Psr\Log\LoggerInterface:
    alias: 'monolog.logger'
    public: true

  Denysov\Demo\Delivery\Http\:
    resource: '../src/Delivery/Http/'
    tags: [ 'controller.service_arguments' ]

  Denysov\Demo\Application\:
    resource: '../src/Application/'

  _instanceof:
    Zinc\Core\Command\CommandHandlerInterface:
      tags: ['messenger.message_handler']

    Zinc\Core\Event\EventHandlerInterface:
      tags: [ 'messenger.message_handler' ]


  Zinc\Core\Command\CommandBusInterface:
    class: Zinc\Core\Command\Bridge\Symfony\MessengerCommandBus

  Zinc\Core\Event\EventBusInterface:
    class: Zinc\Core\Event\Bridge\Symfony\MessengerEventBus